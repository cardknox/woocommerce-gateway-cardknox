function setGPPayload(e){document.getElementById("gp-payload").value=e,showHide("divGPPayload",e),e&&divGPPayload.scrollIntoView(!1)}function getAmount(){return parseFloat(googlePaysettings.total).toFixed(2)}jQuery(document.body).on("updated_checkout",function(){""==googlePaysettings.merchant_name||null==googlePaysettings.merchant_name||0==googlePaysettings.merchant_name.length?jQuery(".googlepay-error").html("<div class='woocommerce-error' role='alert'>Please contact support. Failed to initialize Google Pay. </div>").show():ckGooglePay.enableGooglePay({initFunction:"gpRequest.initGP",amountField:"amount"})}),window.gpRequest={merchantInfo:{merchantName:googlePaysettings.merchant_name},buttonOptions:{buttonColor:googlePaysettings.button_style?googlePaysettings.button_style:"default",buttonSizeMode:GPButtonSizeMode.fill},billingParams:{emailRequired:!0,billingAddressRequired:!1},shippingParams:{shippingAddressRequired:!1},onGetTransactionInfo:function(e){let t=getAmount(),n=null;return n=null!==jQuery("#billing_country").val()&&void 0!==jQuery("#billing_country").val()?jQuery("#billing_country").val():"US",{displayItems:[{label:"Subtotal",type:"SUBTOTAL",price:t.toString()},],countryCode:n,currencyCode:googlePaysettings.currencyCode,totalPriceStatus:"FINAL",totalPrice:t.toString(),totalPriceLabel:"Total"}},onBeforeProcessPayment:function(){return new Promise(function(e,t){try{e(iStatus.success)}catch(n){t(n)}})},onProcessPayment:function(e){if((e=JSON.parse(JSON.stringify(e))).transactionInfo.totalPrice<=0)throw jQuery(".gpay-error").html("<div> Payment is not authorized. Amount must be greater than 0 </div>").show(),setTimeout(function(){jQuery(".gpay-error").html("").hide()},3e3),Error("Payment is not authorized. Amount must be greater than 0");var t=btoa(e.paymentData.paymentMethodData.tokenizationData.token);jQuery("#googlePaytoken").val(t),jQuery("#place_order").trigger("click")},onPaymentCanceled:function(e){jQuery(".gpay-error").html("<div> Payment was canceled </div>").show(),setTimeout(function(){jQuery(".gpay-error").html("").hide()},3e3)},handleResponse:function(e){let t=JSON.parse(e);t&&(t.xError?setTimeout(function(){alert(`There was a problem with your order (${t.xRefNum})!`)},500):setTimeout(function(){alert(`Thank you for your order (${t.xRefNum})!`)},500))},getGPEnvironment:function(){return googlePaysettings.environment?googlePaysettings.environment:"TEST"},initGP:function(){return{merchantInfo:this.merchantInfo,buttonOptions:this.buttonOptions,environment:this.getGPEnvironment(),billingParameters:this.billingParams,shippingParameters:this.shippingParams,onGetTransactionInfo:"gpRequest.onGetTransactionInfo",onBeforeProcessPayment:"gpRequest.onBeforeProcessPayment",onProcessPayment:"gpRequest.onProcessPayment",onPaymentCanceled:"gpRequest.onPaymentCanceled",onGPButtonLoaded:"gpRequest.gpButtonLoaded",isDebug:isDebugEnv}},gpButtonLoaded:function(e){e&&(e.status===iStatus.success?showHide("divGpay",!0):e.reason&&logDebug({label:"gpButtonLoaded",data:e.reason}))}};